const h="ru",f=["ru","en"],d="PARAGLIDE_LOCALE";const u=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let a,s=!1,m=()=>{let e;for(const o of u)if(o==="cookie"?e=b():o==="baseLocale"?e=h:o==="globalVariable"&&a!==void 0?e=a:g(o)&&l.has(o)&&(e=l.get(o).getLocale()),e!==void 0){const t=L(e);return s||(a=t,s=!0,p(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},p=(e,o)=>{const t={reload:!0,...o};let r;try{r=m()}catch{}for(const n of u)if(n==="globalVariable")a=e;else if(n==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const c=window.location.hostname;document.cookie=`${d}=${e}; path=/; max-age=34560000; domain=${c}`}else{if(n==="baseLocale")continue;g(n)&&l.has(n)&&l.get(n).setLocale(e)}t.reload&&window.location&&e!==r&&window.location.reload()},w=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function i(e){return e?f.includes(e):!1}function L(e){if(i(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${f.join(", ")}`);return e}function b(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${d}=([^;]+)`)),o=e==null?void 0:e[2];if(i(o))return o}function y(e){return k(e)}function k(e){const o=typeof e=="string"?new URL(e,w()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&i(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}const l=new Map;function g(e){return typeof e=="string"&&/^custom-[A-Za-z0-9]+$/.test(e)}export{y as d,m as g,p as s};
